<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.1"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Atomic과 Synchronized" /><meta name="author" content="Changhee" /><meta property="og:locale" content="en_US" /><meta name="description" content="mutable한 객체를 공유하는 환경에서 객체에 대한 액세스가 제대로 관리되지 않으면 응용 프로그램은 감지하기 어려운 동시성 오류에 노출 될 수 있다." /><meta property="og:description" content="mutable한 객체를 공유하는 환경에서 객체에 대한 액세스가 제대로 관리되지 않으면 응용 프로그램은 감지하기 어려운 동시성 오류에 노출 될 수 있다." /><link rel="canonical" href="https://changheedev.github.io/posts/Atomic%EA%B3%BC_Synchronized/" /><meta property="og:url" content="https://changheedev.github.io/posts/Atomic%EA%B3%BC_Synchronized/" /><meta property="og:site_name" content="Changhee" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-01-12T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Atomic과 Synchronized" /><meta name="google-site-verification" content="pI8ii9r0vewLzzWaXCy_gcfqRLia4i9u82XZdv5m-Lo" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Changhee"},"description":"mutable한 객체를 공유하는 환경에서 객체에 대한 액세스가 제대로 관리되지 않으면 응용 프로그램은 감지하기 어려운 동시성 오류에 노출 될 수 있다.","url":"https://changheedev.github.io/posts/Atomic%EA%B3%BC_Synchronized/","@type":"BlogPosting","headline":"Atomic과 Synchronized","dateModified":"2021-01-17T15:35:57+09:00","datePublished":"2021-01-12T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://changheedev.github.io/posts/Atomic%EA%B3%BC_Synchronized/"},"@context":"https://schema.org"}</script><title>Atomic과 Synchronized | Changhee</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-SV90EJRY87"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-SV90EJRY87'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars1.githubusercontent.com/u/17294694?s=460&u=ff808a49e15ba27ba7c8e0a960aa44a78c9b672b&v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Changhee</a></div><div class="site-subtitle font-italic">학습과 경험을 기록하는 개인 개발 블로그</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/changheedev" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['changhee.dev','gmail.com'].join('@')" aria-label="email" class="order-4" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-5" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Atomic과 Synchronized</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Atomic과 Synchronized</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Jan 12, 2021, 12:00 AM +0900" > Jan 12, 2021 <i class="unloaded">2021-01-12T00:00:00+09:00</i> </span> by <span class="author"> Changhee </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Jan 17, 2021, 3:35 PM +0900" > Jan 17, 2021 <i class="unloaded">2021-01-17T15:35:57+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1342 words">7 min</span></div></div><div class="post-content"><p>mutable한 객체를 공유하는 환경에서 객체에 대한 액세스가 제대로 관리되지 않으면 응용 프로그램은 감지하기 어려운 동시성 오류에 노출 될 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Counter</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">counter</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">increment</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">counter</span><span class="o">++;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>위의 코드는 싱글 스레드 환경에서는 문제없이 동작한다. 하지만 여러 스레드가 write 하는것을 허용하면 일관성이 없는 결과를 얻게 된다.</p><p><code class="language-plaintext highlighter-rouge">counter++</code> 명령은 원자적인 명령어 처럼 보이지만 실제로는 3개의 명령으로 조합되어 있다.</p><ul><li>value를 가져온다.<li>value를 증가시킨다.<li>value를 write 한다.</ul><p>만약 두 스레드가 같은 시간에 value를 업데이트 한다면 변경된 사항을 잃게 되는 결과가 발생할 수 있다.</p><h2 id="synchronized">Synchronized</h2><p>자바에서 객체에 lock을 거는 방법 중 하나는 <code class="language-plaintext highlighter-rouge">synchronized</code> 키워드를 사용하는 것이다. synchronized 키워드는 한번에 오직 하나의 스레드만 메소드를 실행할 수 있도록 보장한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SafeCounterWithLock</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">volatile</span> <span class="kt">int</span> <span class="n">counter</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">increment</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">counter</span><span class="o">++;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>lock을 사용하면 동시성 문제를 해결할 수 있지만 성능은 떨어지게 된다.</p><p>여러 스레드가 lock을 얻으려고 시도하면 그중 하나가 lock을 획득하고 나머지 스레드는 차단되거나 일시 중단된다. 스레드를 일시 중단했다가 다시 시작하는 것은 비용이 많이 들고 시스템의 전반적인 효율성에 영향을 준다. 위의 코드 처럼 소규모 프로그램에서는 컨텍스트 전환에 소요되는 시간이 실제 코드 실행보다 훨씬 길어 전체 효율성이 크게 감소 할 수 있다.</p><h2 id="atomic">Atomic</h2><p>자바의 Atomic 타입은 내부적으로 <strong>volatile</strong> 키워드와 <strong>CAS</strong> 알고리즘이 사용된다.</p><h3 id="volatile">Volatile</h3><p>일반적으로 변수에 값을 쓰거나 읽을때 CPU의 캐시를 이용하게 된다. 멀티스레드 환경에서는 각 CPU의 캐시를 참조하기 때문에 <strong>캐시 일관성</strong> 문제가 발생하게 된다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/17294694/104310873-c86b0e00-5517-11eb-8231-2ef65508517b.png" alt="java-volatile-1" /></p><p>volatile은 CPU 캐시를 거치지 않고 메인 메모리에서 직접 값을 읽어오거나 값을 씀으로써 캐시 일관성 문제를 해결한다.</p><p>하지만 여전히 참조하는 메모리가 같기 때문에 동시성 문제는 가지고 있다. volatile은 메인 스레드에서만 쓰기를 허용하고 나머지 스레드는 읽기만 가능한 상황에서 유용하다. Atomic 타입은 이러한 부분을 CAS 알고리즘을 통해 보완하고 있다.</p><h3 id="cas-compare-and-swap">CAS (Compare And Swap)</h3><p>CAS 알고리즘은 이전에 메모리에서 읽어온 값과 현재 메모리에서 읽어온 값을 비교하여 일치하는 경우에만 새로운 값으로 교체하고 일치하지 않는다면 교체하지 않는다.</p><p>여러 스레드가 CAS를 통해 동일한 값을 업데이트 하려고 하면 그 중 하나가 값을 업데이트하고 다른 스레드는 업데이트에 실패한다. <strong>그러나 synchronized의 경우와 달리 다른 스레드는 중단되지 않는다</strong>. 대신, 값을 업데이트하지 않았다는 정보를 받는다.</p><p>이러한 방식은 컨텍스트 전환이 발생하지 않기 때문에 synchronized 보다 성능상 유리하다. 하지만 프로그램 로직이 더 복잡해진다. CAS 작업이 성공하지 못한 시나리오를 처리해야하기 때문인데, 성공할 때까지 반복해서 재시도하거나 설계에 따라 아무것도 하지 않고 계속 진행할 수 있다.</p><h3 id="atomic-variables">Atomic Variables</h3><p>Atomic 타입은 자바의 <code class="language-plaintext highlighter-rouge">java.util.concurrent.atomic</code> 패키지에 포함되어 있다. <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html">AtomicInteger</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicLong.html">AtomicLong</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicBoolean.html">AtomicBoolean</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicReference.html">AtomicReference</a> 타입이 존재하며 이름에서도 알 수 있듯이 각각 int, long, boolean 형 데이터를 다룬다. AtomicReference는 자바의 참조 타입을 Atomic으로 사용하고자 할 때 사용한다.</p><p>Atomic 변수의 주요 메소드는 아래와 같다.</p><ul><li>get() : 메모리로부터 값을 읽어오며 다른 스레드에서 변경된 값을 볼 수 있다. (volatile)<li>set() : 메모리에 값을 쓴다. 변경된 내용은 다른 스레드에도 보여진다. (volatile)<li>compareAndSet() : CAS 알고리즘과 동일하게 동작한다.</ul><p><strong>예제코드</strong></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SafeCounterWithoutLock</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">AtomicInteger</span> <span class="n">counter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AtomicInteger</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getValue</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">counter</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">increment</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">existingValue</span> <span class="o">=</span> <span class="n">getValue</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">newValue</span> <span class="o">=</span> <span class="n">existingValue</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
            <span class="k">if</span><span class="o">(</span><span class="n">counter</span><span class="o">.</span><span class="na">compareAndSet</span><span class="o">(</span><span class="n">existingValue</span><span class="o">,</span> <span class="n">newValue</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">return</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>increment 메서드에 대한 호출이 항상 값을 1 씩 증가 시키는 것을 보장하기 위해 compareAndSet 을 시도하고 실패시 다시 시도한다 .</p><h2 id="보완할-내용">보완할 내용</h2><p>volatile과 관련하여 명령어 재정렬 &amp; happens-before 에 대해 확실히 이해하고 내용 보충하기</p><h2 id="참고자료">참고자료</h2><p>https://www.baeldung.com/java-atomic-variables</p><p>http://tutorials.jenkov.com/java-concurrency/volatile.html</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a>, <a href='/categories/java/'>Java</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/java/" class="post-tag no-text-decoration" >Java</a> <a href="/tags/atomic/" class="post-tag no-text-decoration" >Atomic</a> <a href="/tags/synchronized/" class="post-tag no-text-decoration" >Synchronized</a> <a href="/tags/volatile/" class="post-tag no-text-decoration" >Volatile</a> <a href="/tags/concurrency/" class="post-tag no-text-decoration" >Concurrency</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Atomic과 Synchronized - Changhee&url=https://changheedev.github.io/posts/Atomic%EA%B3%BC_Synchronized/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Atomic과 Synchronized - Changhee&u=https://changheedev.github.io/posts/Atomic%EA%B3%BC_Synchronized/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Atomic과 Synchronized - Changhee&url=https://changheedev.github.io/posts/Atomic%EA%B3%BC_Synchronized/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/2%EC%9D%BC%EA%B0%84_%EC%94%A8%EB%A6%84%ED%96%88%EB%8D%98_Connection_reset_by_peer/">2일간 씨름했던 Connection reset by peer</a><li><a href="/posts/%EB%A6%AC%EC%96%BC%EC%84%9C%EB%B9%84%EC%8A%A4_%EC%B2%AB%EA%B2%BD%ED%97%98_%EB%B0%98%EC%84%B1%EC%9D%BC%EA%B8%B0/">리얼서비스 첫경험 반성일기</a><li><a href="/posts/Atomic%EA%B3%BC_Synchronized/">Atomic과 Synchronized</a><li><a href="/posts/Git-add-commit-%EB%82%B4%EB%B6%80%EB%8F%99%EC%9E%91-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B3%B4%EA%B8%B0/">Git add와 commit 내부동작 확인해보기</a><li><a href="/posts/ArrayList-vs-LinkedList/">ArrayList vs LinkedList</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/javascript/">Javascript</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/mac/">Mac</a> <a class="post-tag" href="/tags/db/">DB</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/promise/">Promise</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/ubuntu/">Ubuntu</a> <a class="post-tag" href="/tags/%EA%B0%9C%EB%B0%9C%EC%9E%90/">개발자</a> <a class="post-tag" href="/tags/%EC%9D%B4%EB%B2%A4%ED%8A%B8%EB%A3%A8%ED%94%84/">이벤트루프</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/ArrayList-vs-LinkedList/"><div class="card-body"> <span class="timeago small" > Aug 1, 2020 <i class="unloaded">2020-08-01T18:11:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ArrayList vs LinkedList</h3><div class="text-muted small"><p> 얼마 전 알고리즘 문제를 풀던 중 LinkedList를 이용해 그래프 구조를 만들었는데 시간초과가 발생했다. 그런데 LinkedList를 ArrayList로 변경하니 통과가 됐다. 문제가 되었던 부분의 코드는 아래와 같이 리스트의 i번째 인덱스에 접근하는 코드였었다. LinkedList의 get은 시작 노드에서 시작해서 i번째 노드까지 링크를 타고...</p></div></div></a></div><div class="card"> <a href="/posts/Java_HashMap_%EC%A0%95%EB%A6%AC/"><div class="card-body"> <span class="timeago small" > Jul 30, 2020 <i class="unloaded">2020-07-30T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java - HashMap 정리</h3><div class="text-muted small"><p> 1. HashMap 데이터를 Key와 Value로 저장하는 자료구조 효율적인 검색을 위해 사용된다 Key 값을 해시함수로 해싱하여 해당 데이터가 위치한 버킷의 주소값을 찾을 수 있고 이를 통해 바로 찾으려는 데이터에 접근한다. 1.1 자바의 HashMap 현재 사용하고 있는 자바8 버전의 HashMap은 해시 충돌을 체이닝 기법을 ...</p></div></div></a></div><div class="card"> <a href="/posts/NCP%EC%97%90%EC%84%9C_HA_%EA%B5%AC%EC%84%B1%ED%95%B4%EB%B3%B4%EA%B8%B0/"><div class="card-body"> <span class="timeago small" > Dec 30, 2020 <i class="unloaded">2020-12-30T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>NCP에서 HA 구성해보기</h3><div class="text-muted small"><p> 부스트캠프에서 팀프로젝트를 하면서 HAProxy를 이용한 로드밸런싱을 구현했었는데 실제 서비스에서는 안정성을 위해 Proxy 서버를 이중화하여 HA(High Availability)를 구성한다고 한다. HA 구성에 대한 자료를 찾아보니 마침 NCP(네이버 클라우드 플랫폼) 환경에서 HA를 구성하는 방법이 있었는데 직접 적용해보면서 그 과정을 정리하려...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Bean_%EC%A0%95%EB%A6%AC/" class="btn btn-outline-primary"><p>Bean 정리</p></a> <a href="/posts/Join%EA%B8%B0%EB%B2%95_%EC%A0%95%EB%A6%AC/" class="btn btn-outline-primary"><p>Join 기법 정리 (Nested Loop, Sort Merge, Hash)</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//changheedev.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://changheedev.github.io/posts/Atomic%EA%B3%BC_Synchronized/'; this.page.identifier = '/posts/Atomic%EA%B3%BC_Synchronized/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/changheedev">Changhee Choi</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/javascript/">Javascript</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/mac/">Mac</a> <a class="post-tag" href="/tags/db/">DB</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/promise/">Promise</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/ubuntu/">Ubuntu</a> <a class="post-tag" href="/tags/%EA%B0%9C%EB%B0%9C%EC%9E%90/">개발자</a> <a class="post-tag" href="/tags/%EC%9D%B4%EB%B2%A4%ED%8A%B8%EB%A3%A8%ED%94%84/">이벤트루프</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://changheedev.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
