<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.1"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="TypeORM과 Webpack 연동 Critical dependency: the request of a dependency is an expression 오류 해결" /><meta name="author" content="Changhee" /><meta property="og:locale" content="en_US" /><meta name="description" content="TypeORM과 Webpack을 연동하고 난 다음 번들링을 했을 때 아래와 같은 디펜던시 관련 오류가 다수 발생했다." /><meta property="og:description" content="TypeORM과 Webpack을 연동하고 난 다음 번들링을 했을 때 아래와 같은 디펜던시 관련 오류가 다수 발생했다." /><link rel="canonical" href="https://changheedev.github.io/posts/TypeORM%EA%B3%BC-Webpack-%EC%97%B0%EB%8F%99%EC%98%A4%EB%A5%98%ED%95%B4%EA%B2%B0/" /><meta property="og:url" content="https://changheedev.github.io/posts/TypeORM%EA%B3%BC-Webpack-%EC%97%B0%EB%8F%99%EC%98%A4%EB%A5%98%ED%95%B4%EA%B2%B0/" /><meta property="og:site_name" content="Changhee" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-10-23T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="TypeORM과 Webpack 연동 Critical dependency: the request of a dependency is an expression 오류 해결" /><meta name="google-site-verification" content="pI8ii9r0vewLzzWaXCy_gcfqRLia4i9u82XZdv5m-Lo" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Changhee"},"description":"TypeORM과 Webpack을 연동하고 난 다음 번들링을 했을 때 아래와 같은 디펜던시 관련 오류가 다수 발생했다.","url":"https://changheedev.github.io/posts/TypeORM%EA%B3%BC-Webpack-%EC%97%B0%EB%8F%99%EC%98%A4%EB%A5%98%ED%95%B4%EA%B2%B0/","@type":"BlogPosting","headline":"TypeORM과 Webpack 연동 Critical dependency: the request of a dependency is an expression 오류 해결","dateModified":"2020-10-23T00:00:00+09:00","datePublished":"2020-10-23T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://changheedev.github.io/posts/TypeORM%EA%B3%BC-Webpack-%EC%97%B0%EB%8F%99%EC%98%A4%EB%A5%98%ED%95%B4%EA%B2%B0/"},"@context":"https://schema.org"}</script><title>TypeORM과 Webpack 연동 `Critical dependency: the request of a dependency is an expression` 오류 해결 | Changhee</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-SV90EJRY87"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-SV90EJRY87'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars1.githubusercontent.com/u/17294694?s=460&u=ff808a49e15ba27ba7c8e0a960aa44a78c9b672b&v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Changhee</a></div><div class="site-subtitle font-italic">학습과 경험을 기록하는 개인 개발 블로그</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/changheedev" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['changhee.dev','gmail.com'].join('@')" aria-label="email" class="order-4" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-5" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>TypeORM과 Webpack 연동 `Critical dependency: the request of a dependency is an expression` 오류 해결</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>TypeORM과 Webpack 연동 `Critical dependency: the request of a dependency is an expression` 오류 해결</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, Oct 23, 2020, 12:00 AM +0900" > Oct 23, 2020 <i class="unloaded">2020-10-23T00:00:00+09:00</i> </span> by <span class="author"> Changhee </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="926 words">5 min</span></div></div><div class="post-content"><p>TypeORM과 Webpack을 연동하고 난 다음 번들링을 했을 때 아래와 같은 디펜던시 관련 오류가 다수 발생했다.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>WARNING in ./node_modules/typeorm/connection/ConnectionOptionsReader.js 175:14-33
Critical dependency: the request of a dependency is an expression
 @ ./node_modules/typeorm/index.js
 @ ./src/app.ts
 @ ./src/server.ts

WARNING in ./node_modules/typeorm/connection/ConnectionOptionsReader.js 189:14-33
Critical dependency: the request of a dependency is an expression
 @ ./node_modules/typeorm/index.js
 @ ./src/app.ts
 @ ./src/server.ts

...
</pre></table></code></div></div><p><br /></p><p>이 문제의 원인은 런타임시에 특정 값에 따라 require를 하는 경우 컴파일 타임에는 그 특정 값을 알 수 없기 때문에 모든 모듈을 번들에 포함하려고 하기 때문이라고 한다. (<a href="https://webpack.js.org/plugins/context-replacement-plugin/">링크</a>)</p><p>TypeORM 패키지의 코드를 보면 설정해놓은 DB type에 따라 DB 모듈을 require로 불러온다.</p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="nx">PlatformTools</span><span class="p">.</span><span class="nx">load</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// if name is not absolute or relative, then try to load package from the node_modules of the directory we are currently in</span>
        <span class="c1">// this is useful when we are using typeorm package globally installed and it accesses drivers</span>
        <span class="c1">// that are not installed globally</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="c1">// switch case to explicit require statements for webpack compatibility.</span>
            <span class="k">switch</span> <span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
                <span class="cm">/**
                * mongodb
                */</span>
                <span class="k">case</span> <span class="dl">"</span><span class="s2">mongodb</span><span class="dl">"</span><span class="p">:</span>
                    <span class="k">return</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">mongodb</span><span class="dl">"</span><span class="p">);</span>
                <span class="cm">/**
                * hana
                */</span>
                <span class="k">case</span> <span class="dl">"</span><span class="s2">@sap/hana-client</span><span class="dl">"</span><span class="p">:</span>
                    <span class="k">return</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@sap/hana-client</span><span class="dl">"</span><span class="p">);</span>
                <span class="k">case</span> <span class="dl">"</span><span class="s2">hdb-pool</span><span class="dl">"</span><span class="p">:</span>
                    <span class="k">return</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">hdb-pool</span><span class="dl">"</span><span class="p">);</span>
                <span class="cm">/**
                * mysql
                */</span>
                <span class="k">case</span> <span class="dl">"</span><span class="s2">mysql</span><span class="dl">"</span><span class="p">:</span>
                    <span class="k">return</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">mysql</span><span class="dl">"</span><span class="p">);</span>
                <span class="k">case</span> <span class="dl">"</span><span class="s2">mysql2</span><span class="dl">"</span><span class="p">:</span>
                    <span class="k">return</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">mysql2</span><span class="dl">"</span><span class="p">);</span>
                <span class="cm">/**

...
</span></pre></table></code></div></div><p><br /></p><p>그런데 이 설정값들은 런타임시에 읽어오기 때문에 Webpack으로 빌드하는 과정에서는 참조할 수 없는 값이다. 따라서 Webpack은 require 된 모든 모듈을 번들에 포함시키려 하는데 사용할 DB 모듈외에는 설치가 되지 않은 상태기 때문에 오류가 발생하게 되는 것이다.</p><p>이 문제를 해결하기 위한 방법으로 Webpack의 <code class="language-plaintext highlighter-rouge">ContextReplacementPlugin</code> 을 이용하여 모듈을 제한하여 포함시키는 방법이 있었지만 런타임시에 동적으로 require되는 하위 모듈 디펜던시를 일일이 확인해서 설정해주어야 하고 이런 오류가 발생하는 모듈이 TypeORM 뿐만이 아니라는 점 때문에 적용하기 어렵다고 판단되었다.</p><p>다른 방법에 대해 여러 자료를 찾아본 결과 가장 간단한 방법으로는 외부 라이브러리들을 번들링에 함께 묶지 않는 방법을 추천하고 있었다. 직접 작성한 코드만 번들링시키고 외부 모듈은 런타임시에 <code class="language-plaintext highlighter-rouge">node_modules</code> 디렉토리에서 불러오기 때문에 해당 문제가 발생하지 않는다.</p><p>처음에는 서버 코드를 배포할 때 번들링된 파일만 배포하는 것이 아닌 디펜던시를 직접 설치해주어야 한다는 점이 걸려서 어떻게든 번들에 함께 묶으려고 하루내내 삽질을 했었는데 다시 생각해보면 CI 서버에서 번들링을 진행하고 필요한 파일들만 골라서 Docker 이미지로 만들고 해당 이미지를 이용해 배포를 한다면 굳이 번들에 포함시키려고 애쓰지 않아도 될 것 같았다…😭</p><p>번들에서 제외하는 방법은 Webpack의 <code class="language-plaintext highlighter-rouge">externals</code> 옵션을 이용한다. 원래는 제외할 모듈을 직접 설정해주어야 하는데 <code class="language-plaintext highlighter-rouge">webpack-node-externals</code> 모듈을 사용하면 <code class="language-plaintext highlighter-rouge">node_modules</code> 디렉토리에 설치된 모듈을 모두 제외시켜 주기 때문에 편하게 설정할 수 있다.</p><p><strong>Install</strong></p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npm i -D webpack-node-externals
</pre></table></code></div></div><p><strong>webpack.config.js</strong></p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">nodeExternals</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">webpack-node-externals</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="na">externals</span><span class="p">:</span> <span class="p">[</span><span class="nx">nodeExternals</span><span class="p">()],</span>
    <span class="p">...</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /></p><h2 id="참고자료">참고자료</h2><p><a href="https://webpack.js.org/plugins/context-replacement-plugin/">https://webpack.js.org/plugins/context-replacement-plugin/</a></p><p><a href="https://github.com/typeorm/typeorm/issues/4254">https://github.com/typeorm/typeorm/issues/4254</a></p><p><a href="https://jlongster.com/Backend-Apps-with-Webpack--Part-I">Backend-Apps-with-Webpack–Part-I</a></p><p><a href="https://changhoi.github.io/posts/backend/serverside-typescript-setting-02/">Monolithic 서버사이드 타입스크립트 세팅 02</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a>, <a href='/categories/node-js/'>Node.js</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/webpack/" class="post-tag no-text-decoration" >webpack</a> <a href="/tags/nodejs/" class="post-tag no-text-decoration" >nodejs</a> <a href="/tags/typeorm/" class="post-tag no-text-decoration" >typeorm</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=TypeORM과 Webpack 연동 `Critical dependency: the request of a dependency is an expression` 오류 해결 - Changhee&url=https://changheedev.github.io/posts/TypeORM%EA%B3%BC-Webpack-%EC%97%B0%EB%8F%99%EC%98%A4%EB%A5%98%ED%95%B4%EA%B2%B0/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=TypeORM과 Webpack 연동 `Critical dependency: the request of a dependency is an expression` 오류 해결 - Changhee&u=https://changheedev.github.io/posts/TypeORM%EA%B3%BC-Webpack-%EC%97%B0%EB%8F%99%EC%98%A4%EB%A5%98%ED%95%B4%EA%B2%B0/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=TypeORM과 Webpack 연동 `Critical dependency: the request of a dependency is an expression` 오류 해결 - Changhee&url=https://changheedev.github.io/posts/TypeORM%EA%B3%BC-Webpack-%EC%97%B0%EB%8F%99%EC%98%A4%EB%A5%98%ED%95%B4%EA%B2%B0/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/2%EC%9D%BC%EA%B0%84_%EC%94%A8%EB%A6%84%ED%96%88%EB%8D%98_Connection_reset_by_peer/">2일간 씨름했던 Connection reset by peer</a><li><a href="/posts/%EB%A6%AC%EC%96%BC%EC%84%9C%EB%B9%84%EC%8A%A4_%EC%B2%AB%EA%B2%BD%ED%97%98_%EB%B0%98%EC%84%B1%EC%9D%BC%EA%B8%B0/">리얼서비스 첫경험 반성일기</a><li><a href="/posts/Atomic%EA%B3%BC_Synchronized/">Atomic과 Synchronized</a><li><a href="/posts/Git-add-commit-%EB%82%B4%EB%B6%80%EB%8F%99%EC%9E%91-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B3%B4%EA%B8%B0/">Git add와 commit 내부동작 확인해보기</a><li><a href="/posts/ArrayList-vs-LinkedList/">ArrayList vs LinkedList</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/javascript/">Javascript</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/mac/">Mac</a> <a class="post-tag" href="/tags/db/">DB</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/promise/">Promise</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/ubuntu/">Ubuntu</a> <a class="post-tag" href="/tags/%EA%B0%9C%EB%B0%9C%EC%9E%90/">개발자</a> <a class="post-tag" href="/tags/%EC%9D%B4%EB%B2%A4%ED%8A%B8%EB%A3%A8%ED%94%84/">이벤트루프</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/NCP%EC%97%90%EC%84%9C_HA_%EA%B5%AC%EC%84%B1%ED%95%B4%EB%B3%B4%EA%B8%B0/"><div class="card-body"> <span class="timeago small" > Dec 30, 2020 <i class="unloaded">2020-12-30T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>NCP에서 HA 구성해보기</h3><div class="text-muted small"><p> 부스트캠프에서 팀프로젝트를 하면서 HAProxy를 이용한 로드밸런싱을 구현했었는데 실제 서비스에서는 안정성을 위해 Proxy 서버를 이중화하여 HA(High Availability)를 구성한다고 한다. HA 구성에 대한 자료를 찾아보니 마침 NCP(네이버 클라우드 플랫폼) 환경에서 HA를 구성하는 방법이 있었는데 직접 적용해보면서 그 과정을 정리하려...</p></div></div></a></div><div class="card"> <a href="/posts/Bean_%EC%A0%95%EB%A6%AC/"><div class="card-body"> <span class="timeago small" > Jan 11, 2021 <i class="unloaded">2021-01-11T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Bean 정리</h3><div class="text-muted small"><p> Bean 빈(Bean)이란 Spring의 IoC 컨테이너에서 의존성을 주입하기 위해 내부적으로 생성하는 객체를 말한다. 이렇게 컨테이너에서 의존성을 관리해주기 때문에 제어가 역전(IoC - Inversion of Control) 되었다고 하며 개발자가 직접 의존성 객체를 생성하고 주입해주지 않아도 되기 때문에 개발 과정이 간편해지는 장점이 있다. ...</p></div></div></a></div><div class="card"> <a href="/posts/Atomic%EA%B3%BC_Synchronized/"><div class="card-body"> <span class="timeago small" > Jan 12, 2021 <i class="unloaded">2021-01-12T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Atomic과 Synchronized</h3><div class="text-muted small"><p> mutable한 객체를 공유하는 환경에서 객체에 대한 액세스가 제대로 관리되지 않으면 응용 프로그램은 감지하기 어려운 동시성 오류에 노출 될 수 있다. 1 2 3 4 5 6 7 public class Counter { int counter; public void increment() { counter++; } }...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Git-add-commit-%EB%82%B4%EB%B6%80%EB%8F%99%EC%9E%91-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B3%B4%EA%B8%B0/" class="btn btn-outline-primary"><p>Git add와 commit 내부동작 확인해보기</p></a> <a href="/posts/React_%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8_%EB%B0%B0%ED%8F%AC_%EC%82%BD%EC%A7%88%EA%B8%B0/" class="btn btn-outline-primary"><p>React 프로젝트 배포 삽질기</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//changheedev.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://changheedev.github.io/posts/TypeORM%EA%B3%BC-Webpack-%EC%97%B0%EB%8F%99%EC%98%A4%EB%A5%98%ED%95%B4%EA%B2%B0/'; this.page.identifier = '/posts/TypeORM%EA%B3%BC-Webpack-%EC%97%B0%EB%8F%99%EC%98%A4%EB%A5%98%ED%95%B4%EA%B2%B0/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/changheedev">Changhee Choi</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/javascript/">Javascript</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/mac/">Mac</a> <a class="post-tag" href="/tags/db/">DB</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/promise/">Promise</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/ubuntu/">Ubuntu</a> <a class="post-tag" href="/tags/%EA%B0%9C%EB%B0%9C%EC%9E%90/">개발자</a> <a class="post-tag" href="/tags/%EC%9D%B4%EB%B2%A4%ED%8A%B8%EB%A3%A8%ED%94%84/">이벤트루프</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://changheedev.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
